import{d as A,s as w,a as E,b as T,c as x,g as k}from"./common.min.js";function F(){const t=document.querySelectorAll("[data-fls-spollers]");if(t.length>0){let l=function(r,c=!1){r.forEach(n=>{n=c?n.item:n,c.matches||!c?(n.classList.add("--spoller-init"),s(n)):(n.classList.remove("--spoller-init"),s(n,!1))})},s=function(r,c=!0){let n=r.querySelectorAll("details");n.length&&n.forEach(i=>{let d=i.querySelector("summary");c?(d.removeAttribute("tabindex"),i.hasAttribute("data-fls-spollers-open")?(d.classList.add("--spoller-active"),i.open=!0):(i.open=!1,d.nextElementSibling.hidden=!0)):(d.setAttribute("tabindex","-1"),d.classList.remove("--spoller-active"),i.open=!0,d.nextElementSibling.hidden=!1)})},e=function(r){const c=r.target;if(c.closest("summary")&&c.closest("[data-fls-spollers]")&&(r.preventDefault(),c.closest("[data-fls-spollers]").classList.contains("--spoller-init"))){const n=c.closest("summary"),i=n.closest("details"),d=n.closest("[data-fls-spollers]"),p=d.hasAttribute("data-fls-spollers-one"),m=i.hasAttribute("data-fls-spollers-scroll"),v=d.dataset.flsSpollersSpeed?parseInt(d.dataset.flsSpollersSpeed):500;if(!d.querySelectorAll(".--slide").length&&(p&&!i.open&&o(d),i.open?setTimeout(()=>{i.open=!1},v):i.open=!0,n.classList.toggle("--spoller-active"),w(n.nextElementSibling,v),m&&n.classList.contains("--spoller-active"))){const S=i.dataset.flsSpollersScroll,b=+S?+S:0,L=i.hasAttribute("data-fls-spollers-scroll-noheader")?document.querySelector(".header").offsetHeight:0;window.scrollTo({top:i.offsetTop-(b+L),behavior:"smooth"})}}if(!c.closest("[data-fls-spollers]")){const n=document.querySelectorAll("[data-fls-spollers-close]");n.length&&n.forEach(i=>{const d=i.closest("[data-fls-spollers]"),p=i.parentNode;if(d.classList.contains("--spoller-init")){const m=d.dataset.flsSpollersSpeed?parseInt(d.dataset.flsSpollersSpeed):500;i.classList.remove("--spoller-active"),E(i.nextElementSibling,m),setTimeout(()=>{p.open=!1},m)}})}},o=function(r){const c=r.querySelector("details[open]");if(c&&!r.querySelectorAll(".--slide").length){const n=c.querySelector("summary"),i=r.dataset.flsSpollersSpeed?parseInt(r.dataset.flsSpollersSpeed):500;n.classList.remove("--spoller-active"),E(n.nextElementSibling,i),setTimeout(()=>{c.open=!1},i)}};document.addEventListener("click",e);const a=Array.from(t).filter(function(r,c,n){return!r.dataset.flsSpollers.split(",")[0]});a.length&&l(a);let f=A(t,"flsSpollers");f&&f.length&&f.forEach(r=>{r.matchMedia.addEventListener("change",function(){l(r.itemsArray,r.matchMedia)}),l(r.itemsArray,r.matchMedia)})}}window.addEventListener("load",F);function C(){document.addEventListener("click",function(t){x&&t.target.closest("[data-fls-menu]")&&(T(),document.documentElement.toggleAttribute("data-fls-menu-open"),document.querySelectorAll(".menu__item--sub-list").forEach(s=>{s.classList.remove("_active")}))})}document.querySelector("[data-fls-menu]")&&window.addEventListener("load",C);const h=document.querySelector("header"),g=document.querySelector("main"),y=()=>{h&&g&&(g.style.paddingTop=h.offsetHeight+"px")};new ResizeObserver(y).observe(h),y();class P{constructor(){this.type="max",this.init()}init(){this.objects=[],this.daClassname="--dynamic",this.nodes=[...document.querySelectorAll("[data-fls-dynamic]")],this.nodes.forEach(l=>{const e=l.dataset.flsDynamic.trim().split(","),o={};o.element=l,o.parent=l.parentNode,o.destinationParent=e[3]&&l.closest(e[3].trim())||document,e[3]&&e[3].trim();const a=e[0]?e[0].trim():null;if(a){const f=o.destinationParent.querySelector(a);f&&(o.destination=f)}o.breakpoint=e[1]?e[1].trim():"767.98",o.place=e[2]?e[2].trim():"last",o.index=this.indexInParent(o.parent,o.element),this.objects.push(o)}),this.arraySort(this.objects),this.mediaQueries=this.objects.map(({breakpoint:l})=>`(${this.type}-width: ${l/16}em),${l}`).filter((l,s,e)=>e.indexOf(l)===s),this.mediaQueries.forEach(l=>{const s=l.split(","),e=window.matchMedia(s[0]),o=s[1],a=this.objects.filter(({breakpoint:f})=>f===o);e.addEventListener("change",()=>{this.mediaHandler(e,a)}),this.mediaHandler(e,a)})}mediaHandler(l,s){l.matches?s.forEach(e=>{e.destination&&this.moveTo(e.place,e.element,e.destination)}):s.forEach(({parent:e,element:o,index:a})=>{o.classList.contains(this.daClassname)&&this.moveBack(e,o,a)})}moveTo(l,s,e){s.classList.add(this.daClassname);const o=l==="last"||l==="first"?l:parseInt(l,10);o==="last"||o>=e.children.length?e.append(s):o==="first"?e.prepend(s):e.children[o].before(s)}moveBack(l,s,e){s.classList.remove(this.daClassname),l.children[e]!==void 0?l.children[e].before(s):l.append(s)}indexInParent(l,s){return[...l.children].indexOf(s)}arraySort(l){if(this.type==="min")l.sort((s,e)=>s.breakpoint===e.breakpoint?s.place===e.place?0:s.place==="first"||e.place==="last"?-1:s.place==="last"||e.place==="first"?1:0:s.breakpoint-e.breakpoint);else{l.sort((s,e)=>s.breakpoint===e.breakpoint?s.place===e.place?0:s.place==="first"||e.place==="last"?1:s.place==="last"||e.place==="first"?-1:0:e.breakpoint-s.breakpoint);return}}}document.querySelector("[data-fls-dynamic]")&&window.addEventListener("load",()=>window.flsDynamic=new P);let u={getErrors(t){let l=0,s=t.querySelectorAll("[required]");return s.length&&s.forEach(e=>{(e.offsetParent!==null||e.tagName==="SELECT")&&!e.disabled&&(l+=this.validateInput(e))}),l},validateInput(t){let l=0;return t.type==="email"?(t.value=t.value.replace(" ",""),this.emailTest(t)?(this.addError(t),this.removeSuccess(t),l++):(this.removeError(t),this.addSuccess(t))):t.type==="checkbox"&&!t.checked?(this.addError(t),this.removeSuccess(t),l++):t.value.trim()?(this.removeError(t),this.addSuccess(t)):(this.addError(t),this.removeSuccess(t),l++),l},addError(t){t.classList.add("--form-error"),t.parentElement.classList.add("--form-error");let l=t.parentElement.querySelector("[data-fls-form-error]");l&&t.parentElement.removeChild(l),t.dataset.flsFormErrtext&&t.parentElement.insertAdjacentHTML("beforeend",`<div data-fls-form-error>${t.dataset.flsFormErrtext}</div>`)},removeError(t){t.classList.remove("--form-error"),t.parentElement.classList.remove("--form-error"),t.parentElement.querySelector("[data-fls-form-error]")&&t.parentElement.removeChild(t.parentElement.querySelector("[data-fls-form-error]"))},addSuccess(t){t.classList.add("--form-success"),t.parentElement.classList.add("--form-success")},removeSuccess(t){t.classList.remove("--form-success"),t.parentElement.classList.remove("--form-success")},removeFocus(t){t.classList.remove("--form-focus"),t.parentElement.classList.remove("--form-focus")},formClean(t){t.reset(),setTimeout(()=>{let l=t.querySelectorAll("input,textarea");for(let e=0;e<l.length;e++){const o=l[e];u.removeFocus(o),u.removeSuccess(o),u.removeError(o)}let s=t.querySelectorAll('input[type="checkbox"]');if(s.length&&s.forEach(e=>{e.checked=!1}),window.flsSelect){let e=t.querySelectorAll("select[data-fls-select]");e.length&&e.forEach(o=>{window.flsSelect.selectBuild(o)})}},0)},emailTest(t){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(t.value)}};function D(){function t(){const s=document.forms;if(s.length)for(const a of s)a.hasAttribute("data-fls-form-novalidate")||a.setAttribute("novalidate",!0),a.addEventListener("submit",function(f){const r=f.target;e(r,f)}),a.addEventListener("reset",function(f){const r=f.target;u.formClean(r)});async function e(a,f){if(u.getErrors(a)===0)if(a.dataset.flsForm==="ajax"){f.preventDefault();const c=a.getAttribute("action")?a.getAttribute("action").trim():"#",n=a.getAttribute("method")?a.getAttribute("method").trim():"GET",i=new FormData(a);a.classList.add("--sending");const d=await fetch(c,{method:n,body:i});if(d.ok){let p=await d.json();a.classList.remove("--sending"),o(a,p)}else a.classList.remove("--sending")}else a.dataset.flsForm==="dev"&&(f.preventDefault(),o(a));else if(f.preventDefault(),a.querySelector(".--form-error")&&a.hasAttribute("data-fls-form-gotoerr")){const c=a.dataset.flsFormGotoerr?a.dataset.flsFormGotoerr:".--form-error";k(c)}}function o(a,f=""){document.dispatchEvent(new CustomEvent("formSent",{detail:{form:a}})),setTimeout(()=>{if(window.flsPopup){const r=a.dataset.flsFormPopup;r&&window.flsPopup.open(r)}},0),u.formClean(a)}}function l(){document.body.addEventListener("focusin",function(s){const e=s.target;(e.tagName==="INPUT"||e.tagName==="TEXTAREA")&&(e.hasAttribute("data-fls-form-nofocus")||(e.classList.add("--form-focus"),e.parentElement.classList.add("--form-focus")),e.hasAttribute("data-fls-form-validatenow")&&u.removeError(e))}),document.body.addEventListener("focusout",function(s){const e=s.target;(e.tagName==="INPUT"||e.tagName==="TEXTAREA")&&(e.hasAttribute("data-fls-form-nofocus")||(e.classList.remove("--form-focus"),e.parentElement.classList.remove("--form-focus")),e.hasAttribute("data-fls-form-validatenow")&&u.validateInput(e))})}t(),l()}document.querySelector("[data-fls-form]")&&window.addEventListener("load",D);
